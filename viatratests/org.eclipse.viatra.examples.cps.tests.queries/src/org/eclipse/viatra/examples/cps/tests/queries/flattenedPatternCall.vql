package org.eclipse.viatra.examples.cps.tests.queries
// This tests the 481265 bug

import "http://org.eclipse.viatra/model/cps"

pattern called(a) {
	HostInstance(a);
}

pattern callee(a1, a2) {
	find called(a1);
	find called(a2);
	HostInstance.communicateWith(a1, a2);
}

pattern flattened(a1, a2) {
	//find called(a1);
	HostInstance(called_a1);
	a1 == called_a1;
	//find called(a2);
	HostInstance(called_a2);
	a2 == called_a2;
	HostInstance.communicateWith(a1, a2);
}